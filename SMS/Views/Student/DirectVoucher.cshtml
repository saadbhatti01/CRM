
@{
    Layout = null;
}
@{
    var s = TempData["Std"] as SMS.Models.Student;
}
<!DOCTYPE html>

<html>
<head>

    <meta name="viewport" content="width=device-width" />
    <title>Download Fee Voucher</title>
</head>
<body>
    @if (TempData["Data"] != null)
    {
        <div>
            <input type="button" class="btn btn-success" value="Print Report" onclick="print1()" />
        </div>

        <div id="BulkPrint">
            @foreach (var i in (List<SMS.Models.Student>)TempData["Data"])
            {
                <div class="card-title">
                    @if (Session["InsName"] != null)
                    {
                        <p>
                            <img src="@Session["InsImage"]" width="65" height="65" style="float:left" />
                            <h2 style="text-align: center;">@Session["InsName"]</h2>
                            <h3 style="text-align: center;"> Student Fee Voucher</h3>
                        </p>
                    }
                </div>
                <table>
                    <caption>Student Copy</caption>
                    <thead>
                        <tr>
                            <th>Fee Month: @TempData["feeMonth"]</th>
                            <th colspan="2">Voucher Due Date: @TempData["Due"]</th>
                        </tr>

                        <tr>
                            <td>Student Name: <strong> @i.pr.perName</strong> <br> Roll Number:&nbsp;&nbsp;&nbsp; <strong> @i.stdRollNo</strong> </td>
                            <td> Father Name: <strong>@i.pr.perGarName</strong><br> Contact #:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <strong> @i.pr.perContactOne </strong></td>
                            <td> Session: <strong>@i.ses.sesName</strong><br> Class:&nbsp;&nbsp;&nbsp; <strong> @i.cls.classname </strong><br> Section:  <strong> @i.sec.secName</strong> </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>Fee </th>
                            <th>Status</th>
                            <th>Payable Amount /Rs. </th>
                        </tr>
                        <tr>
                            <td>@TempData["Fee"]</td>
                            <td>UnPaid</td>
                            <td>@Convert.ToDecimal(@TempData["Amount"]).ToString("#,##0.00")  </td>

                        </tr>

                    </tbody>
                    <tfoot>
                        <tr>
                            <th colspan="2">Total Payable Amount /Rs.</th>
                            <td> @Convert.ToDecimal(@TempData["Amount"]).ToString("#,##0.00") </td>
                        </tr>
                    </tfoot>
                </table>

                <hr style="border-top: dotted 1px;" />
                <table>
                    <caption>Institute Copy</caption>
                    <thead>
                        <tr>
                            <th>Fee Month: @TempData["feeMonth"]</th>
                            <th colspan="2">Voucher Due Date: @TempData["Due"]</th>
                        </tr>

                        <tr>
                            <td>Student Name: <strong> @i.pr.perName</strong> <br> Roll Number:&nbsp;&nbsp;&nbsp; <strong> @i.stdRollNo</strong> </td>
                            <td> Father Name: <strong>@i.pr.perGarName</strong><br> Contact #:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <strong> @i.pr.perContactOne </strong></td>
                            <td> Session: <strong>@i.ses.sesName</strong><br> Class:&nbsp;&nbsp;&nbsp; <strong> @i.cls.classname </strong><br> Section:  <strong> @i.sec.secName</strong> </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>Fee </th>
                            <th>Status</th>
                            <th>Payable Amount /Rs. </th>
                        </tr>
                        <tr>
                            <td>@TempData["Fee"]</td>
                            <td>UnPaid</td>
                            <td>@Convert.ToDecimal(@TempData["Amount"]).ToString("#,##0.00")  </td>

                        </tr>

                    </tbody>
                    <tfoot>
                        <tr>
                            <th colspan="2">Total Payable Amount /Rs.</th>
                            <td> @Convert.ToDecimal(@TempData["Amount"]).ToString("#,##0.00") </td>
                        </tr>
                    </tfoot>
                </table>

                <p style="page-break-after: always"></p>

            }
        </div>

    }
    @if (s != null)
    {
        <div>
            <input type="button" class="btn btn-success" value="Print Report" onclick="print1()" />
        </div>
        <div id="Print">
            <div class="card-title">
                @if (Session["InsName"] != null)
                {
                    <p>
                        <img src="@Session["InsImage"]" width="65" height="65" style="float:left" />
                        <h2 style="text-align: center;">@Session["InsName"]</h2>
                        <h3 style="text-align: center;"> Student Fee Voucher</h3>
                    </p>
                }
            </div>
            <table>
                <caption>Student Copy</caption>
                <thead>
                    <tr>
                        <th>Fee Month: @TempData["feeMonth"]</th>
                        <th colspan="2">Voucher Due Date: @TempData["Due"]</th>
                    </tr>

                    <tr>
                        <td>Student Name: <strong> @s.pr.perName</strong> <br> Roll Number:&nbsp;&nbsp;&nbsp; <strong> @s.stdRollNo</strong> </td>
                        <td> Father Name: <strong>@s.pr.perGarName</strong><br> Contact #:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <strong> @s.pr.perContactOne </strong></td>
                        <td> Session: <strong>@s.ses.sesName</strong><br> Class:&nbsp;&nbsp;&nbsp; <strong> @s.cls.classname </strong><br> Section:  <strong> @s.sec.secName</strong> </td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>Fee </th>
                        <th>Status</th>
                        <th>Payable Amount /Rs. </th>
                    </tr>
                    <tr>
                        <td>@TempData["Fee"]</td>
                        <td>UnPaid</td>
                        <td>@Convert.ToDecimal(@TempData["Amount"]).ToString("#,##0.00")  </td>

                    </tr>

                </tbody>
                <tfoot>
                    <tr>
                        <th colspan="2">Total Payable Amount /Rs.</th>
                        <td> @Convert.ToDecimal(@TempData["Amount"]).ToString("#,##0.00") </td>
                    </tr>
                </tfoot>
            </table>

            <hr style="border-top: dotted 1px;" />
            <table>
                <caption>Institute Copy</caption>
                <thead>
                    <tr>
                        <th>Fee Month: @TempData["feeMonth"]</th>
                        <th colspan="2">Voucher Due Date: @TempData["Due"]</th>
                    </tr>

                    <tr>
                        <td>Student Name: <strong> @s.pr.perName</strong> <br> Roll Number:&nbsp;&nbsp;&nbsp; <strong> @s.stdRollNo</strong> </td>
                        <td> Father Name: <strong>@s.pr.perGarName</strong><br> Contact #:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <strong> @s.pr.perContactOne </strong></td>
                        <td> Session: <strong>@s.ses.sesName</strong><br> Class:&nbsp;&nbsp;&nbsp; <strong> @s.cls.classname </strong><br> Section:  <strong> @s.sec.secName</strong> </td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>Fee </th>
                        <th>Status</th>
                        <th>Payable Amount /Rs. </th>
                    </tr>
                    <tr>
                        <td>@TempData["Fee"]</td>
                        <td>UnPaid</td>
                        <td>@Convert.ToDecimal(@TempData["Amount"]).ToString("#,##0.00")  </td>

                    </tr>

                </tbody>
                <tfoot>
                    <tr>
                        <th colspan="2">Total Payable Amount /Rs.</th>
                        <td> @Convert.ToDecimal(@TempData["Amount"]).ToString("#,##0.00") </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    }



    <script type="text/javascript">
        function print1() {
            var prtContent = document.getElementById('Print');
            var mywindow = window.open('', '', 'height=700,width=900');
            mywindow.document.write('<html><head>');
            mywindow.document.write('<link href = "/Content/bootstrap.min.css" rel = "stylesheet" />')
            mywindow.document.write('<link href = "/Content/Print.css" rel = "stylesheet" />')
            mywindow.document.write('</head><body>');
            mywindow.document.write(prtContent.innerHTML);
            mywindow.document.write('</body></html>');
            mywindow.document.close();
            setTimeout(function () {
                mywindow.print();
                mywindow.close();
            }, 500)

        }
    </script>

    <script type="text/javascript">
        function printAll() {
            var prtContent = document.getElementById('BulkPrint');
            var mywindow = window.open('', '', 'height=700,width=900');
            mywindow.document.write('<html><head>');
            mywindow.document.write('<link href = "/Content/bootstrap.min.css" rel = "stylesheet" />')
            mywindow.document.write('<link href = "/Content/Print.css" rel = "stylesheet" />')
            mywindow.document.write('</head><body>');
            mywindow.document.write(prtContent.innerHTML);
            mywindow.document.write('</body></html>');
            mywindow.document.close();
            setTimeout(function () {
                mywindow.print();
                mywindow.close();
            }, 500)

        }
    </script>

    @if (s != null)
    {
        <script>
            window.onload = print1();

        </script>
    }

    @if (TempData["Data"] != null)
    {
        <script>
            window.onload = printAll();

        </script>
    }

</body>
</html>
